<ion-view title='{{creating? "Nuevo receptor" : "Editar receptor"}}'>
  <ion-content class='has-header'>
    <div class='list list-inset'>
      <label class='item item-input' ng-click="takePicture()">
        <img width="128" height="128" ng-src='{{receiver.avatar || defaultAvatar}}' alt="Receptor photo" >
      </label>
      <label class='item item-input'>
        <input type='text' ng-model='receiver.name' placeholder='Nombre'>
      </label>
      <label class='item item-input'>
        <input type='text' ng-model='receiver.lastName' placeholder='Apellido'>
      </label>
      <label class="item item-input item-select">
        <div class="input-label">
          Vínculo
        </div>
        <select ng-model="receiver.relationshipId" ng-options="relationship.id as relationship.name for relationship in relationships" ng-change="checkIfAdvancedByDefault(); checkIfHasCustomName();"></select>
      </label>
      <label class='item item-input' ng-show="showRelationshipName">
        <input type='text' ng-model='receiver.relationshipName' placeholder='Nombre del vínculo'>
      </label>
      <ion-checkbox ng-model="receiver.advanced">Puntuación avanzada</ion-checkbox>
      <button class="button button-block" ng-click="editPattern()">
        <i class="icon ion-edit"></i>
        Editar patrón de bloqueo
      </button>
      <div class='receiver-form-buttons'>
        <a id='cancel' class='button icon-left ion-close-round button-assertive' ng-click='goBack();'>Cancelar</a>
        <a id='accept' class='button icon-left ion-checkmark-round button-balanced' ng-click='save();'>Aceptar</a>
      </div>
    </div>
  </ion-content>
</ion-view>